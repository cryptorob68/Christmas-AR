<!DOCTYPE html>
<html>
<head>
    <title>Christmas AR Scene</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="scripts.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <a-scene webxr="requiredFeatures: hit-test,local-floor;">
        <!-- Virtual Grid -->
        <a-entity id="ground-grid" visible="false">
            <!-- Grid will be created by JavaScript -->
        </a-entity>

        <!-- Snow -->
        <a-entity snow></a-entity>

        <!-- ambient lighting and magic -->
        <a-entity light="type: ambient; intensity: 1.5; color: #ffffff"></a-entity>
        <a-entity light="type: directional; color: #ffffff; intensity: 0.8" position="-1 1 0"></a-entity>

        <!-- glow effect -->
        <a-entity light="type: point; intensity: 0.5; distance: 15; decay: 2; color: #64b5f6" position="0 4 0"></a-entity>

        <!-- Christmas Scene (will be placed once ground is detected) -->
        <a-entity id="christmas-scene" visible="false">
            <!-- Characters will be positioned relative to this parent entity -->
        </a-entity>

        <!-- Santa's Sleigh -->
        <a-entity
            id="sleigh"
            gltf-model="models/sleigh.glb"
            position="0 0 -8"
            rotation="0 180 0"
            scale="0.5 0.5 0.5"
            animation="property: rotation; to: 0 540 0; loop: true; dur: 30000; easing: linear">
        </a-entity>

        <!-- Santa -->
        <a-entity
            id="santa"
            gltf-model="models/santa.glb"
            position="-2 0 -8"
            rotation="0 180 0"
            scale="0.5 0.5 0.5"
            animation="property: rotation; to: 0 540 0; loop: true; dur: 35000; easing: linear">
        </a-entity>

        <!-- Snowman -->
        <a-entity
            id="snowman"
            gltf-model="models/snowman.glb"
            position="2 0 -8"
            rotation="0 180 0"
            scale="0.5 0.5 0.5"
            animation="property: rotation; to: 0 540 0; loop: true; dur: 25000; easing: linear">
        </a-entity>

        <!-- Jack Frost -->
        <a-entity
            id="jack-frost"
            gltf-model="models/jack-frost.glb"
            position="0 0 -10"
            rotation="0 180 0"
            scale="0.5 0.5 0.5"
            animation="property: rotation; to: 0 540 0; loop: true; dur: 28000; easing: linear">
        </a-entity>

        <!-- Test1 Character -->
        <a-entity
            id="test1"
            gltf-model="models/test1.glb"
            position="-3 0 -10"
            rotation="0 180 0"
            scale="0.5 0.5 0.5"
            animation="property: rotation; to: 0 540 0; loop: true; dur: 32000; easing: linear">
        </a-entity>

        <!-- Test2 Character -->
        <a-entity
            id="test2"
            gltf-model="models/test2.glb"
            position="3 0 -10"
            rotation="0 180 0"
            scale="0.5 0.5 0.5"
            animation="property: rotation; to: 0 540 0; loop: true; dur: 27000; easing: linear">
        </a-entity>
        
        <!-- Camera -->
        <a-entity camera position="0 1.6 0" look-controls wasd-controls></a-entity>
    </a-scene>

    <!-- UI Overlay -->
    <div id="ui-overlay">
        <div id="instructions">
            <h2>Christmas AR Experience</h2>
            <p>Move your device around to detect the ground.</p>
            <p>Once the grid appears, tap to place the Christmas scene!</p>
        </div>
    </div>
</body>
</html>
